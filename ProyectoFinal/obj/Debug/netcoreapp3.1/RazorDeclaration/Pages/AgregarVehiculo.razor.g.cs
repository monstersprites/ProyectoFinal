#pragma checksum "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\Pages\AgregarVehiculo.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e180e7a08fbd7bfccff214a450ca3974a9fdc52a"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace ProyectoFinal.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 2 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using ProyectoFinal;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using ProyectoFinal.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\_Imports.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\Pages\AgregarVehiculo.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\Pages\AgregarVehiculo.razor"
using System.Net.Http.Headers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\Pages\AgregarVehiculo.razor"
using System.Threading.Tasks;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/agregar_vehiculo")]
    public partial class AgregarVehiculo : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 85 "C:\Users\Daniel Lora\Desktop\Blazor's Apps\ProyectoFinal\Pages\AgregarVehiculo.razor"
           

        string marca;
        string modelo;
        int año;
        string color;
        int precio;
        string tipo;
        int capacidad;
        int pasajeros;
        string matricula;
        long seguro;
        string foto;



        public void addVehicle()
        {

            Vehicle nuevo_vehiculo = new Vehicle();

            nuevo_vehiculo.BRAND = marca;
            nuevo_vehiculo.MODEL = modelo;
            nuevo_vehiculo.YEAR = año;
            nuevo_vehiculo.COLOUR = color;
            nuevo_vehiculo.PRICEPERDAY = precio;
            nuevo_vehiculo.TYPE = tipo;
            nuevo_vehiculo.LOADCAPACITY = capacidad.ToString();
            nuevo_vehiculo.PASSAGERS = pasajeros;
            nuevo_vehiculo.ENROLLMENT = matricula;
            nuevo_vehiculo.INSURANCE_NO = seguro.ToString();
            nuevo_vehiculo.PHOTO = foto;


            Lanzar(nuevo_vehiculo);
        }


        public async Task<string> Lanzar(Vehicle v)
        {

            try
            {

                HttpClient client = new HttpClient()
                {
                    BaseAddress = new Uri("https://pruebasv4.herokuapp.com/"),
                };
                client.DefaultRequestHeaders.Accept.Clear();
                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));
                HttpResponseMessage respuesta = client.PostAsJsonAsync("/registervehicle/", v).Result;
                if (respuesta.StatusCode == HttpStatusCode.OK)
                {
                    // La respuesta es correcta y por ejemplo la retorno como string
                    return await respuesta.Content.ReadAsStringAsync();
                }

            }
            catch (Exception e)
            {

            }

            return "OK";

        }

        public class Vehicle
        {

            public string BRAND { get; set; }

            public string MODEL { get; set; }

            public int YEAR { get; set; }

            public string COLOUR { get; set; }

            public int PRICEPERDAY { get; set; }

            public string TYPE { get; set; }

            public string LOADCAPACITY { get; set; }

            public int PASSAGERS { get; set; }

            public string ENROLLMENT { get; set; }

            public string INSURANCE_NO { get; set; }

            public string PHOTO { get; set; }

            public string LATITUDE { get; set; }

            public string LONGITUDE { get; set; }

        }

    

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
