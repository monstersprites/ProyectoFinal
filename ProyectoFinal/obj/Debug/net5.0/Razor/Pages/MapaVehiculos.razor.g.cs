#pragma checksum "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2e4b17d69f65a27c674bf366f07efd2150b8d8fb"
// <auto-generated/>
#pragma warning disable 1591
namespace ProyectoFinal.Pages
{
    #line hidden
    using System.Collections.Generic;
    using System.Linq;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using ProyectoFinal;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using ProyectoFinal.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using System.Net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using System.Net.Http.Headers;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using System;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using System.Text;

#line default
#line hidden
#nullable disable
#nullable restore
#line 17 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/_Imports.razor"
using System.Threading.Tasks;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/MapaVehiculos")]
    public partial class MapaVehiculos : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, "<a href=\"/gestion_reportes\"><img src=\"/imgs/arrow.png\"></a>\n\n<br>\n<br>\n\n");
            __builder.AddMarkupContent(1, "<h3>Mapeado de vehiculos</h3>\n\n<hr>\n\n<br>\n\n");
            __builder.OpenElement(2, "button");
            __builder.AddAttribute(3, "class", "btn btn-primary");
            __builder.AddAttribute(4, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 14 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                          buscarVehiculos

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(5, "Listar");
            __builder.CloseElement();
            __builder.AddMarkupContent(6, "\n\n<br>\n\n");
            __builder.OpenComponent<Radzen.Blazor.RadzenGoogleMap>(7);
            __builder.AddAttribute(8, "id", "map");
            __builder.AddAttribute(9, "style", "height: 400px");
            __builder.AddAttribute(10, "Zoom", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Double>(
#nullable restore
#line 18 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                      zoom

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(11, "Center", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Radzen.GoogleMapPosition>(
#nullable restore
#line 18 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                                    new GoogleMapPosition() { Lat = 18.98367097987177, Lng = -70.45763034294242 }

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(12, "MarkerClick", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Radzen.Blazor.RadzenGoogleMapMarker>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Radzen.Blazor.RadzenGoogleMapMarker>(this, 
#nullable restore
#line 18 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                                                                                                                                OnMarkerClick

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(13, "Markers", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
#nullable restore
#line 20 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
         foreach (var u in ubicaciones)
        {

#line default
#line hidden
#nullable disable
                __builder2.OpenComponent<Radzen.Blazor.RadzenGoogleMapMarker>(14);
                __builder2.AddAttribute(15, "Position", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Radzen.GoogleMapPosition>(
#nullable restore
#line 22 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                              new GoogleMapPosition() { Lat = u.Latitud, Lng= u.Longitud }

#line default
#line hidden
#nullable disable
                ));
                __builder2.CloseComponent();
#nullable restore
#line 23 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
        }

#line default
#line hidden
#nullable disable
            }
            ));
            __builder.CloseComponent();
#nullable restore
#line 28 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
 if (MostrarVehiculo == true)
{

    foreach (var f in filtro)
    {


#line default
#line hidden
#nullable disable
            __builder.OpenElement(16, "div");
            __builder.AddAttribute(17, "class", "card");
            __builder.AddAttribute(18, "style", "width: 18rem;");
            __builder.AddMarkupContent(19, "<img src class=\"card-img-top\">\n            ");
            __builder.OpenElement(20, "div");
            __builder.AddAttribute(21, "class", "card-body");
            __builder.OpenElement(22, "h5");
            __builder.AddAttribute(23, "class", "card-title");
            __builder.AddContent(24, 
#nullable restore
#line 37 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                        f.BRAND

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(25, "  ");
            __builder.AddContent(26, 
#nullable restore
#line 37 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                  f.MODEL

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\n                ");
            __builder.OpenElement(28, "p");
            __builder.AddAttribute(29, "class", "card-text");
            __builder.AddContent(30, "Matricula: ");
            __builder.AddContent(31, 
#nullable restore
#line 38 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                 f.Enrollment

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(32, "\n                ");
            __builder.OpenElement(33, "p");
            __builder.AddAttribute(34, "class", "card-text");
            __builder.AddContent(35, "Color: ");
            __builder.AddContent(36, 
#nullable restore
#line 39 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                             f.COLOUR

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\n                ");
            __builder.OpenElement(38, "p");
            __builder.AddAttribute(39, "class", "card-text");
            __builder.AddContent(40, "Cantidad de pasajeros: ");
            __builder.AddContent(41, 
#nullable restore
#line 40 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                             f.PASSENGERS

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(42, "\n                ");
            __builder.OpenElement(43, "p");
            __builder.AddAttribute(44, "class", "card-text");
            __builder.AddContent(45, "Capacidad de carga: ");
            __builder.AddContent(46, 
#nullable restore
#line 41 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                          f.LOADCAPACITY

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(47, " Kgs");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\n                ");
            __builder.OpenElement(49, "p");
            __builder.AddAttribute(50, "class", "card-text");
            __builder.AddMarkupContent(51, "Precio por día: ");
            __builder.AddContent(52, 
#nullable restore
#line 42 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                      f.PRICEPERDAY

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(53, "\n                ");
            __builder.OpenElement(54, "p");
            __builder.AddAttribute(55, "class", "card-text");
            __builder.AddMarkupContent(56, "Número de seguro: ");
            __builder.AddContent(57, 
#nullable restore
#line 43 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
                                                        f.INSURANCE_NO

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 46 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"

    }

}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 53 "/home/elmer/Desktop/tareas_de_p3/ProyectoFinal/ProyectoFinal/Pages/MapaVehiculos.razor"
       

    int zoom = 7;

    bool MostrarVehiculo;

    List<Vehicle> vehiculos = new List<Vehicle>();

    List<Ubicaciones> ubicaciones = new List<Ubicaciones>();

    List<Vehicle> filtro = new List<Vehicle>();

    public void buscarVehiculos()
    {

        String API = $"https://pruebasv4.herokuapp.com/AllVehicle";

        WebClient cliente = new WebClient();

        var datos = cliente.DownloadString(API);

        vehiculos = JsonConvert.DeserializeObject<List<Vehicle>>(datos);

        foreach (var v in vehiculos)
        {
            ubicaciones.Add(new Ubicaciones { Latitud = double.Parse(v.LATITUDE), Longitud = double.Parse(v.LONGITUDE) });
        }

    }

    void OnMarkerClick(RadzenGoogleMapMarker marker)
    {

        filtro = vehiculos.Where(
            x => x.LATITUDE == marker.Position.Lat.ToString() &&
            x.LONGITUDE == marker.Position.Lng.ToString()
            ).ToList();

        if (MostrarVehiculo == true)
        {
            MostrarVehiculo = false;
        }
        else
        {
            MostrarVehiculo = true;
        }


    }

    public class Vehicle
    {

        public string BRAND { get; set; }

        public string MODEL { get; set; }

        public int YEAR { get; set; }

        public string COLOUR { get; set; }

        public double PRICEPERDAY { get; set; }

        public string TYPE { get; set; }

        public string LOADCAPACITY { get; set; }

        public int PASSENGERS { get; set; }

        public string Enrollment { get; set; }

        public string INSURANCE_NO { get; set; }

        public string PHOTO { get; set; }

        public string LATITUDE { get; set; }

        public string LONGITUDE { get; set; }

    }

    public class Ubicaciones
    {

        public double Latitud { get; set; }

        public double Longitud { get; set; }

    }


#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
